{"ast":null,"code":"import _objectSpread from\"/Users/leifu/Documents/restaurantorder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/leifu/Documents/restaurantorder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import DishMenus from'../../Components/DishMenus/DishMenus';import SideSummaryDishes from'../../Components/SideSummaryDishes/SideSummaryDishes';import ContactData from'../../Components/ContactData/ContactData';import classes from'./OrderBuilder.module.css';import Modal from'../../Components/UI/Model/Model';// Stripe\nimport{Elements}from'@stripe/react-stripe-js';import{loadStripe}from'@stripe/stripe-js';var UnitDishPrices={dish1:0.5,dish2:1,dish3:1.5,dish4:2.3,dish5:2.1,dish6:0.5,dish7:1,dish8:1.5,dish9:2.3,dish10:2.1,dish11:0.5,dish12:1,dish13:1.5,dish14:2.3,dish15:2.1,dish16:0.5,dish17:1,dish18:1.5,dish19:2.3,dish20:2.1};var OrderBuilder=function OrderBuilder(props){var _useState=useState({dish1:0,dish2:0,dish3:0,dish4:0,dish5:0,dish6:0,dish7:0,dish8:0,dish9:0,dish10:0,dish11:0,dish12:0,dish13:0,dish14:0,dish15:0,dish16:0,dish17:0,dish18:0,dish19:0,dish20:0}),_useState2=_slicedToArray(_useState,2),menus=_useState2[0],resetMenus=_useState2[1];var _useState3=useState({dish1:0,dish2:0,dish3:0,dish4:0,dish5:0,dish6:0,dish7:0,dish8:0,dish9:0,dish10:0,dish11:0,dish12:0,dish13:0,dish14:0,dish15:0,dish16:0,dish17:0,dish18:0,dish19:0,dish20:0}),_useState4=_slicedToArray(_useState3,2),prices=_useState4[0],resetPrice=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalPrice=_useState6[0],resetTotalPrice=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),purchasing=_useState8[0],setPurchasing=_useState8[1];var controls=[{type:'dish1'},{type:'dish2'},{type:'dish3'},{type:'dish4'},{type:'dish5'},{type:'dish6'},{type:'dish7'},{type:'dish8'},{type:'dish9'},{type:'dish10'},{type:'dish11'},{type:'dish12'},{type:'dish13'},{type:'dish14'},{type:'dish15'},{type:'dish16'},{type:'dish17'},{type:'dish18'},{type:'dish19'},{type:'dish20'}];var addDishes=function addDishes(type){var oldCount=menus[type];var newCount=oldCount+1;var upDateMenus=_objectSpread({},menus);upDateMenus[type]=newCount;var updatePrice=_objectSpread({},prices);updatePrice[type]=updatePrice[type]+UnitDishPrices[type];var upDateTotalPrice=totalPrice;upDateTotalPrice=upDateTotalPrice+UnitDishPrices[type];resetMenus(upDateMenus);resetPrice(updatePrice);resetTotalPrice(upDateTotalPrice);};var removeDishes=function removeDishes(type){var oldCount=menus[type];var newCount=oldCount-1;if(oldCount<=0){return;}var upDateMenus=_objectSpread({},menus);upDateMenus[type]=newCount;var updatePrice=_objectSpread({},prices);updatePrice[type]=prices[type]-UnitDishPrices[type];var upDateTotalPrice=totalPrice;upDateTotalPrice=upDateTotalPrice-UnitDishPrices[type];resetMenus(upDateMenus);resetPrice(updatePrice);resetTotalPrice(upDateTotalPrice);};var purchingHandler=function purchingHandler(){// console.log(props);\n// props.history.push('/contactData')\nsetPurchasing(true);};var closeModalHandler=function closeModalHandler(){setPurchasing(false);};var stripePromise=loadStripe('pk_test_51HJ0tkHbii5DBKKcU6SIxsCq8DPqRvPHS2j2lNAzWkAdo5EBMukCeqChXnqFJN6nLHLwTpB6JhK1cvXS8RZNNhyD00BiyDANe3');return/*#__PURE__*/React.createElement(\"div\",{className:classes.OrderBuilder},/*#__PURE__*/React.createElement(Modal,{show:purchasing,closeModal:closeModalHandler},/*#__PURE__*/React.createElement(Elements,{stripe:stripePromise},/*#__PURE__*/React.createElement(ContactData,Object.assign({goBack:closeModalHandler,totalPrice:totalPrice.toFixed(2),dishes:menus,onSuccessfulCheckout:function onSuccessfulCheckout(){return props.history.push(\"/endpage\");}},props)))),/*#__PURE__*/React.createElement(DishMenus,{added:addDishes,removed:removeDishes,dishes:menus,prices:prices,clickImg:addDishes,controls:controls}),/*#__PURE__*/React.createElement(SideSummaryDishes,{prices:prices,dishes:menus,unitePrices:UnitDishPrices,totalPrice:totalPrice,added:addDishes,removed:removeDishes,purchasing:purchingHandler,controls:controls}));};export default OrderBuilder;","map":{"version":3,"sources":["/Users/leifu/Documents/restaurantorder/src/Container/OrderBuilder/OrderBuilder.js"],"names":["React","useState","DishMenus","SideSummaryDishes","ContactData","classes","Modal","Elements","loadStripe","UnitDishPrices","dish1","dish2","dish3","dish4","dish5","dish6","dish7","dish8","dish9","dish10","dish11","dish12","dish13","dish14","dish15","dish16","dish17","dish18","dish19","dish20","OrderBuilder","props","menus","resetMenus","prices","resetPrice","totalPrice","resetTotalPrice","purchasing","setPurchasing","controls","type","addDishes","oldCount","newCount","upDateMenus","updatePrice","upDateTotalPrice","removeDishes","purchingHandler","closeModalHandler","stripePromise","toFixed","history","push"],"mappings":"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","sourcesContent":["import React, {useState}from 'react';\nimport DishMenus from '../../Components/DishMenus/DishMenus';\nimport SideSummaryDishes from '../../Components/SideSummaryDishes/SideSummaryDishes';\nimport ContactData from '../../Components/ContactData/ContactData';\nimport classes from './OrderBuilder.module.css';\nimport Modal from '../../Components/UI/Model/Model';\n\n// Stripe\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\n\nconst UnitDishPrices = {\n    dish1: 0.5,\n    dish2: 1,\n    dish3: 1.5,\n    dish4: 2.3,\n    dish5: 2.1,\n    dish6: 0.5,\n    dish7: 1,\n    dish8: 1.5,\n    dish9: 2.3,\n    dish10: 2.1,\n    dish11: 0.5,\n    dish12: 1,\n    dish13: 1.5,\n    dish14: 2.3,\n    dish15: 2.1,\n    dish16: 0.5,\n    dish17: 1,\n    dish18: 1.5,\n    dish19: 2.3,\n    dish20: 2.1\n}\nconst OrderBuilder = (props) => {\n    let [menus, resetMenus] = useState(\n        {\n            dish1: 0,\n            dish2: 0,\n            dish3: 0,\n            dish4: 0,\n            dish5: 0,\n            dish6: 0,\n            dish7: 0,\n            dish8: 0,\n            dish9: 0,\n            dish10: 0,\n            dish11: 0,\n            dish12: 0,\n            dish13: 0,\n            dish14: 0,\n            dish15: 0,\n            dish16: 0,\n            dish17: 0,\n            dish18: 0,\n            dish19: 0,\n            dish20: 0\n        }\n    )\n    let [prices, resetPrice] = useState(\n        {\n            dish1: 0,\n            dish2: 0,\n            dish3: 0,\n            dish4: 0,\n            dish5: 0,\n            dish6: 0,\n            dish7: 0,\n            dish8: 0,\n            dish9: 0,\n            dish10: 0,\n            dish11: 0,\n            dish12: 0,\n            dish13: 0,\n            dish14: 0,\n            dish15: 0,\n            dish16: 0,\n            dish17: 0,\n            dish18: 0,\n            dish19: 0,\n            dish20: 0\n        }\n    )\n    let [totalPrice, resetTotalPrice] = useState(0);\n    const [purchasing, setPurchasing] = useState(false);\n    const controls = [\n        {type: 'dish1'},\n        {type: 'dish2'},\n        {type: 'dish3'},\n        {type: 'dish4'},\n        {type: 'dish5'},  \n        {type: 'dish6'},\n        {type: 'dish7'},\n        {type: 'dish8'},\n        {type: 'dish9'},\n        {type: 'dish10'},  \n        {type: 'dish11'},\n        {type: 'dish12'},\n        {type: 'dish13'},\n        {type: 'dish14'},\n        {type: 'dish15'},  \n        {type: 'dish16'},\n        {type: 'dish17'},\n        {type: 'dish18'},\n        {type: 'dish19'},\n        {type: 'dish20'}  \n    ]\n     \n   \n    const addDishes = (type) => {\n        let oldCount = menus[type];\n        let newCount = oldCount +1;\n        let upDateMenus = {\n            ...menus\n        }\n        upDateMenus[type] = newCount;\n        let updatePrice  = {\n            ...prices\n        }\n         updatePrice[type] = updatePrice[type] + UnitDishPrices[type];\n         let upDateTotalPrice = totalPrice\n         upDateTotalPrice = upDateTotalPrice + UnitDishPrices[type];\n        resetMenus(upDateMenus);\n        resetPrice(updatePrice);\n        resetTotalPrice(upDateTotalPrice);\n    }\n    const removeDishes = (type) => {\n        let oldCount = menus[type];\n        let newCount = oldCount -1;\n        if(oldCount <= 0) {\n            return;\n        }\n        let upDateMenus = {\n            ...menus\n        }\n        upDateMenus[type] = newCount;\n        let updatePrice  = {\n            ...prices\n        }\n         updatePrice[type] = prices[type] - UnitDishPrices[type];\n         let upDateTotalPrice = totalPrice;\n        upDateTotalPrice = upDateTotalPrice - UnitDishPrices[type];\n        resetMenus(upDateMenus);\n        resetPrice(updatePrice);\n        resetTotalPrice(upDateTotalPrice);\n    }\n    const purchingHandler = () => {\n        // console.log(props);\n        // props.history.push('/contactData')\n        setPurchasing(true);\n    }\n    const closeModalHandler = () => {\n        setPurchasing(false);\n    }\n    const stripePromise = loadStripe('pk_test_51HJ0tkHbii5DBKKcU6SIxsCq8DPqRvPHS2j2lNAzWkAdo5EBMukCeqChXnqFJN6nLHLwTpB6JhK1cvXS8RZNNhyD00BiyDANe3');\n   \n    return (\n        <div className ={classes.OrderBuilder}>\n            \n            <Modal show = {purchasing} closeModal = {closeModalHandler}>\n            <Elements stripe={stripePromise}>\n                <ContactData \n                goBack = {closeModalHandler}\n                totalPrice = {totalPrice.toFixed(2)}\n                dishes = {menus}\n                onSuccessfulCheckout={() => props.history.push(\"/endpage\")}\n                {...props}\n                />\n            </Elements>\n            </Modal>\n            <DishMenus \n                added = {addDishes}\n                removed = {removeDishes}\n                dishes = {menus}\n                prices = {prices} \n                clickImg = {addDishes}\n                controls= {controls} \n            />\n            <SideSummaryDishes \n                prices = {prices}\n                dishes = {menus}\n                unitePrices = {UnitDishPrices} \n                totalPrice = {totalPrice}\n                added = {addDishes}\n                removed = {removeDishes}\n                purchasing = {purchingHandler}\n                controls = {controls}\n            />\n           \n        </div>\n    )\n}\nexport default OrderBuilder;"]},"metadata":{},"sourceType":"module"}
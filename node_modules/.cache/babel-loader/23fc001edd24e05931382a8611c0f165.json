{"ast":null,"code":"import _objectSpread from\"/Users/leifu/Documents/restaurantorder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/leifu/Documents/restaurantorder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/leifu/Documents/restaurantorder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/leifu/Documents/restaurantorder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/leifu/Documents/restaurantorder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Button from'../UI/Button/Button';import Spinner from'../UI/Spinner/Spinner';import classes from'./ContactData.module.css';import axios from'../../axios-orders';import Input from'../UI/Input/Input';// import {Route} from 'react-router-dom';\n// import EndPage from '../EndPage/EndePage';\nvar ContactData=/*#__PURE__*/function(_Component){_inherits(ContactData,_Component);var _super=_createSuper(ContactData);function ContactData(){var _this;_classCallCheck(this,ContactData);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={orderForm:{name:{elementType:'input',elementConfig:{type:'text',placeholder:'Your Name'},value:'',validation:{required:true},valid:false,touched:false},street:{elementType:'input',elementConfig:{type:'text',placeholder:'Street'},value:'',validation:{required:true},valid:false,touched:false},zipCode:{elementType:'input',elementConfig:{type:'text',placeholder:'ZIP Code'},value:'',validation:{required:true,minLength:5,maxLength:5,isNumeric:true},valid:false,touched:false},city:{elementType:'input',elementConfig:{type:'text',placeholder:'City'},value:'',validation:{required:true},valid:false,touched:false},phone:{elementType:'input',elementConfig:{type:'text',placeholder:'Phone Number'},value:'',validation:{isNumeric:true},valid:false,touched:false},email:{elementType:'input',elementConfig:{type:'email',placeholder:'Your E-Mail'},value:'',validation:{required:true,isEmail:true},valid:false,touched:false},deliveryMethod:{elementType:'select',elementConfig:{options:[{value:'fastest',displayValue:'Fastest'},{value:'cheapest',displayValue:'Cheapest'}]},value:'',validation:{},valid:true}},formIsValid:false,loading:false};_this.orderHandler=function(event){console.log(\"orderHandler\",_this.props);event.preventDefault();_this.setState({loading:true});var formData={};for(var formElementIdentifier in _this.state.orderForm){formData[formElementIdentifier]=_this.state.orderForm[formElementIdentifier].value;}var updateDishes=_objectSpread({},_this.props.dishes);Object.keys(updateDishes).forEach(function(key){return(updateDishes[key]===0||null)&&delete updateDishes[key];});console.log('dishes',updateDishes);var order={dishes:updateDishes,price:_this.props.totalPrice,orderData:formData};axios.post('/orders.json',order).then(function(response){_this.setState({loading:false});_this.props.history.replace('/endpage');console.log('this.props.match.path'+_this.props.match.path);}).catch(function(error){_this.setState({loading:false});});};_this.inputChangedHandler=function(event,inputIdentifier){var updatedOrderForm=_objectSpread({},_this.state.orderForm);var updatedFormElement=_objectSpread({},updatedOrderForm[inputIdentifier]);updatedFormElement.value=event.target.value;updatedFormElement.valid=_this.checkValidity(updatedFormElement.value,updatedFormElement.validation);updatedFormElement.touched=true;updatedOrderForm[inputIdentifier]=updatedFormElement;var formIsValid=true;for(var _inputIdentifier in updatedOrderForm){console.log(updatedOrderForm[_inputIdentifier],updatedOrderForm[_inputIdentifier].valid);formIsValid=updatedOrderForm[_inputIdentifier].valid&&formIsValid;}console.log('formIsValid',formIsValid);_this.setState({orderForm:updatedOrderForm,formIsValid:formIsValid});};return _this;}_createClass(ContactData,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"checkValidity\",value:function checkValidity(value,rules){var isValid=true;if(!rules){return true;}if(rules.required){isValid=value.trim()!==''&&isValid;}if(rules.minLength){isValid=value.length>=rules.minLength&&isValid;}if(rules.maxLength){isValid=value.length<=rules.maxLength&&isValid;}if(rules.isEmail){var pattern=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;isValid=pattern.test(value)&&isValid;}if(rules.isNumeric){var _pattern=/^\\d+$/;isValid=_pattern.test(value)&&isValid;}return isValid;}},{key:\"render\",value:function render(){var _this2=this;var formElementsArray=[];for(var key in this.state.orderForm){formElementsArray.push({id:key,config:this.state.orderForm[key]});}var form=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",null,formElementsArray.map(function(formElement){return/*#__PURE__*/React.createElement(Input,{key:formElement.id,elementType:formElement.config.elementType,elementConfig:formElement.config.elementConfig,value:formElement.config.value,invalid:!formElement.config.valid,shouldValidate:formElement.config.validation,touched:formElement.config.touched,changed:function changed(event){return _this2.inputChangedHandler(event,formElement.id);}});})),/*#__PURE__*/React.createElement(Button,{btnType:\"Danger\",clicked:this.props.goBack},\"BACK\"),/*#__PURE__*/React.createElement(Button,{btnType:\"Success\",clicked:this.orderHandler,disabled:!this.state.formIsValid},\"ORDER\"));if(this.state.loading){form=/*#__PURE__*/React.createElement(Spinner,null);}return/*#__PURE__*/React.createElement(\"div\",{className:classes.ContactData},/*#__PURE__*/React.createElement(\"h4\",null,\"Enter your Contact Data\"),form);}}]);return ContactData;}(Component);export default ContactData;","map":{"version":3,"sources":["/Users/leifu/Documents/restaurantorder/src/Components/ContactData/ContactData.js"],"names":["React","Component","Button","Spinner","classes","axios","Input","ContactData","state","orderForm","name","elementType","elementConfig","type","placeholder","value","validation","required","valid","touched","street","zipCode","minLength","maxLength","isNumeric","city","phone","email","isEmail","deliveryMethod","options","displayValue","formIsValid","loading","orderHandler","event","console","log","props","preventDefault","setState","formData","formElementIdentifier","updateDishes","dishes","Object","keys","forEach","key","order","price","totalPrice","orderData","post","then","response","history","replace","match","path","catch","error","inputChangedHandler","inputIdentifier","updatedOrderForm","updatedFormElement","target","checkValidity","rules","isValid","trim","length","pattern","test","formElementsArray","push","id","config","form","map","formElement","goBack"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport Button from '../UI/Button/Button'\nimport Spinner from '../UI/Spinner/Spinner';\nimport classes from './ContactData.module.css';\nimport axios from '../../axios-orders';\nimport Input from '../UI/Input/Input';\n// import {Route} from 'react-router-dom';\n// import EndPage from '../EndPage/EndePage';\nclass ContactData extends Component {\n    state = {\n        orderForm: {\n            name: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'Your Name'\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                touched: false\n            },\n            street: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'Street'\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                touched: false\n            },\n            zipCode: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'ZIP Code'\n                },\n                value: '',\n                validation: {\n                    required: true,\n                    minLength: 5,\n                    maxLength: 5,\n                    isNumeric: true\n                },\n                valid: false,\n                touched: false\n            },\n            city: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'City'\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                touched: false\n            },\n            phone: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'Phone Number'\n                },\n                value: '',\n                validation: {\n                    isNumeric: true\n                },\n                valid: false,\n                touched: false\n            },\n            email: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'email',\n                    placeholder: 'Your E-Mail'\n                },\n                value: '',\n                validation: {\n                    required: true,\n                    isEmail: true\n                },\n                valid: false,\n                touched: false\n            },\n            deliveryMethod: {\n                elementType: 'select',\n                elementConfig: {\n                    options: [\n                        {value: 'fastest', displayValue: 'Fastest'},\n                        {value: 'cheapest', displayValue: 'Cheapest'}\n                    ]\n                },\n                value: '',\n                validation: {},\n                valid: true\n            }\n        },\n        formIsValid: false,\n        loading: false\n    }\n\n    componentDidMount() {\n        \n    }\n    \n\n    orderHandler = ( event ) => {\n        console.log(\"orderHandler\",this.props);\n        event.preventDefault();\n        this.setState( { loading: true } );\n        const formData = {};\n        for (let formElementIdentifier in this.state.orderForm) {\n            formData[formElementIdentifier] = this.state.orderForm[formElementIdentifier].value;\n        }\n        let updateDishes = {...this.props.dishes};\n        Object.keys(updateDishes).forEach((key) => (updateDishes[key] === 0||null) && delete updateDishes[key]);\n        console.log('dishes', updateDishes);\n        const order = {\n            dishes: updateDishes,\n            price: this.props.totalPrice,\n            orderData: formData\n        }\n        axios.post( '/orders.json', order )\n            .then( response => {\n                this.setState( { loading: false } );\n                this.props.history.replace( '/endpage' );\n                console.log('this.props.match.path'+this.props.match.path)\n            } )\n            .catch( error => {\n                this.setState( { loading: false } );\n            } );\n    }\n\n    checkValidity(value, rules) {\n        let isValid = true;\n        if (!rules) {\n            return true;\n        }\n        \n        if (rules.required) {\n            isValid = value.trim() !== '' && isValid;\n        }\n\n        if (rules.minLength) {\n            isValid = value.length >= rules.minLength && isValid\n        }\n\n        if (rules.maxLength) {\n            isValid = value.length <= rules.maxLength && isValid\n        }\n\n        if (rules.isEmail) {\n            const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n            isValid = pattern.test(value) && isValid\n        }\n\n        if (rules.isNumeric) {\n            const pattern = /^\\d+$/;\n            isValid = pattern.test(value) && isValid\n        }\n\n        return isValid;\n    }\n\n    inputChangedHandler = (event, inputIdentifier) => {\n        const updatedOrderForm = {\n            ...this.state.orderForm\n        };\n        const updatedFormElement = { \n            ...updatedOrderForm[inputIdentifier]\n        };\n        updatedFormElement.value = event.target.value;\n        updatedFormElement.valid = this.checkValidity(updatedFormElement.value, updatedFormElement.validation);\n        updatedFormElement.touched = true;\n        updatedOrderForm[inputIdentifier] = updatedFormElement;\n        \n        let formIsValid = true;\n        for (let inputIdentifier in updatedOrderForm) {\n            console.log(updatedOrderForm[inputIdentifier],updatedOrderForm[inputIdentifier].valid);\n            formIsValid = updatedOrderForm[inputIdentifier].valid && formIsValid;\n        }\n        console.log('formIsValid',formIsValid);\n        this.setState({orderForm: updatedOrderForm, formIsValid: formIsValid});\n    }\n    \n\n    render () {\n        const formElementsArray = [];\n        for (let key in this.state.orderForm) {\n            formElementsArray.push({\n                id: key,\n                config: this.state.orderForm[key]\n            });\n        }\n        let form = (\n            <div>\n            <form>\n                {formElementsArray.map(formElement => (\n                    <Input \n                        key={formElement.id}\n                        elementType={formElement.config.elementType}\n                        elementConfig={formElement.config.elementConfig}\n                        value={formElement.config.value}\n                        invalid={!formElement.config.valid}\n                        shouldValidate={formElement.config.validation}\n                        touched={formElement.config.touched}\n                        changed={(event) => this.inputChangedHandler(event, formElement.id)} />\n                ))}\n                 </form>\n                 <Button btnType=\"Danger\" clicked = {this.props.goBack}>BACK</Button>\n                <Button btnType=\"Success\" clicked = {this.orderHandler} disabled={!this.state.formIsValid}>ORDER</Button>\n                {/* <Route\n                    path={this.props.match.path + 'endpage'}\n                    render={(props)=>(<EndPage\n                        {...props} />)} \n                /> */}\n               </div>\n           \n        );\n        if ( this.state.loading ) {\n            form = <Spinner />;\n        }\n        return (\n            <div className={classes.ContactData}>\n                <h4>Enter your Contact Data</h4>\n                {form}\n            </div>\n        );\n    }\n}\n\nexport default ContactData;"]},"metadata":{},"sourceType":"module"}
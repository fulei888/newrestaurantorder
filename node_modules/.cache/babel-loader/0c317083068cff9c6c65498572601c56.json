{"ast":null,"code":"var _jsxFileName = \"/Users/leifu/Documents/GitHub/restaurantorder/src/Components/Orders/Orders.js\";\nimport React, { useState, useEffect } from 'react';\nimport Order from '../Orders/Order/Order';\nimport axios from '../../axios-orders';\nimport classes from './Orders.module.css';\n\nconst Orders = () => {\n  const [loading, setLoading] = useState(true);\n  const [orders, setOrders] = useState([]);\n  useEffect(() => {\n    axios.get('./orders.json').then(res => {\n      console.log(res.data);\n      let updateOrder = [];\n\n      for (let key in res.data) {\n        updateOrder.push({ ...res.data[key],\n          key: key\n        });\n      }\n\n      setOrders(updateOrder);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n    });\n  }, []);\n\n  const deleteHandler = () => {\n    axios.delete('/orders' + props.id).then(response => {\n      console.log(response);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Orders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, orders.map(order => /*#__PURE__*/React.createElement(Order, {\n    dishes: order.dishes,\n    key: order.key,\n    price: order.price,\n    name: order.orderData.name,\n    phone: order.orderData.phone,\n    street: order.orderData.street,\n    city: order.orderData.city,\n    delete: deleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Orders;","map":{"version":3,"sources":["/Users/leifu/Documents/GitHub/restaurantorder/src/Components/Orders/Orders.js"],"names":["React","useState","useEffect","Order","axios","classes","Orders","loading","setLoading","orders","setOrders","get","then","res","console","log","data","updateOrder","key","push","catch","err","deleteHandler","delete","props","id","response","map","order","dishes","price","orderData","name","phone","street","city"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACjB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,KAAK,CAACO,GAAN,CAAU,eAAV,EACCC,IADD,CACMC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,UAAIC,WAAW,GAAG,EAAlB;;AACA,WAAI,IAAIC,GAAR,IAAeL,GAAG,CAACG,IAAnB,EAAyB;AACrBC,QAAAA,WAAW,CAACE,IAAZ,CACI,EACI,GAAGN,GAAG,CAACG,IAAJ,CAASE,GAAT,CADP;AAEIA,UAAAA,GAAG,EAAEA;AAFT,SADJ;AAMH;;AACDR,MAAAA,SAAS,CAACO,WAAD,CAAT;AACAT,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAdD,EAeCY,KAfD,CAeOC,GAAG,IAAI;AACVb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAjBD;AAmBH,GApBQ,EAoBP,EApBO,CAAT;;AAsBA,QAAMc,aAAa,GAAG,MAAM;AACxBlB,IAAAA,KAAK,CAACmB,MAAN,CAAa,YAAWC,KAAK,CAACC,EAA9B,EACCb,IADD,CAEIc,QAAQ,IAAI;AACRZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,QAAZ;AACH,KAJL;AAMH,GAPD;;AASA,sBACI;AAAK,IAAA,SAAS,EAAErB,OAAO,CAACC,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKG,MAAM,CAACkB,GAAP,CAAWC,KAAK,iBACb,oBAAC,KAAD;AACA,IAAA,MAAM,EAAGA,KAAK,CAACC,MADf;AAEA,IAAA,GAAG,EAAID,KAAK,CAACV,GAFb;AAGA,IAAA,KAAK,EAAEU,KAAK,CAACE,KAHb;AAIA,IAAA,IAAI,EAAIF,KAAK,CAACG,SAAN,CAAgBC,IAJxB;AAKA,IAAA,KAAK,EAAEJ,KAAK,CAACG,SAAN,CAAgBE,KALvB;AAMA,IAAA,MAAM,EAAEL,KAAK,CAACG,SAAN,CAAgBG,MANxB;AAOA,IAAA,IAAI,EAAEN,KAAK,CAACG,SAAN,CAAgBI,IAPtB;AAQA,IAAA,MAAM,EAAIb,aARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,CADJ;AAgBH,CAnDD;;AAoDA,eAAehB,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Order from '../Orders/Order/Order';\nimport axios from '../../axios-orders';\nimport classes from './Orders.module.css';\n\nconst Orders = () => {\n    const [loading, setLoading] = useState(true);\n    const [orders, setOrders] = useState([]);\n \n    useEffect(() => {\n        axios.get('./orders.json')\n        .then(res => {\n            console.log(res.data);\n            let updateOrder = []\n            for(let key in res.data) {\n                updateOrder.push(\n                    {\n                        ...res.data[key],\n                        key: key\n                    }\n                )\n            }\n            setOrders(updateOrder);\n            setLoading(false)\n        })\n        .catch(err => {\n            setLoading(false)\n        })\n\n    },[]); \n    \n    const deleteHandler = () => {\n        axios.delete('/orders'+ props.id)\n        .then (\n            response => {\n                console.log(response);\n            }\n        )\n    }\n\n    return (\n        <div className={classes.Orders}>\n            {orders.map(order =>\n                <Order \n                dishes ={order.dishes}\n                key = {order.key}\n                price={order.price}\n                name = {order.orderData.name}\n                phone={order.orderData.phone}\n                street={order.orderData.street}\n                city={order.orderData.city}\n                delete = {deleteHandler}\n                />\n            )}\n        </div>\n    )\n}\nexport default Orders;"]},"metadata":{},"sourceType":"module"}
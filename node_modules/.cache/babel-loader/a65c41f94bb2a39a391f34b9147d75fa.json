{"ast":null,"code":"var _jsxFileName = \"/Users/leifu/Documents/GitHub/restaurantorder/src/Components/Orders/Orders.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Order from '../Orders/Order/Order';\nimport axios from '../../axios-orders';\nimport classes from './Orders.module.css';\n\nconst Orders = () => {\n  const [loading, setLoading] = useState(true);\n  const [orders, setOrders] = useState([]);\n  const deleteHandler = useCallback(id => {\n    axios.delete('/orders/' + id + '.json').then(response => {\n      console.log(response);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get('/orders.json').then(res => {\n      console.log(res.data);\n      let updateOrder = [];\n\n      for (let key in res.data) {\n        updateOrder.push({ ...res.data[key],\n          key: key\n        });\n      }\n\n      setOrders(updateOrder);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Orders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, orders.map(order => /*#__PURE__*/React.createElement(Order, {\n    dishes: order.dishes,\n    key: order.key,\n    price: order.price,\n    name: order.orderData.name,\n    phone: order.orderData.phone,\n    street: order.orderData.street,\n    city: order.orderData.city,\n    id: order.key,\n    delete: deleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Orders;","map":{"version":3,"sources":["/Users/leifu/Documents/GitHub/restaurantorder/src/Components/Orders/Orders.js"],"names":["React","useState","useEffect","useCallback","Order","axios","classes","Orders","loading","setLoading","orders","setOrders","deleteHandler","id","delete","then","response","console","log","get","res","data","updateOrder","key","push","catch","err","map","order","dishes","price","orderData","name","phone","street","city"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,WAApC,QAAsD,OAAtD;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACjB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;AAEA,QAAMW,aAAa,GAAGT,WAAW,CAAGU,EAAD,IAAQ;AACvCR,IAAAA,KAAK,CAACS,MAAN,CAAa,aAAaD,EAAb,GAAgB,OAA7B,EACCE,IADD,CACMC,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACH,KAHD;AAIH,GALgC,EAK/B,EAL+B,CAAjC;AAMAd,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,KAAK,CAACc,GAAN,CAAU,cAAV,EACCJ,IADD,CACMK,GAAG,IAAI;AACTH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,IAAhB;AACA,UAAIC,WAAW,GAAG,EAAlB;;AACA,WAAI,IAAIC,GAAR,IAAeH,GAAG,CAACC,IAAnB,EAAyB;AACrBC,QAAAA,WAAW,CAACE,IAAZ,CACI,EACI,GAAGJ,GAAG,CAACC,IAAJ,CAASE,GAAT,CADP;AAEIA,UAAAA,GAAG,EAAEA;AAFT,SADJ;AAMH;;AACDZ,MAAAA,SAAS,CAACW,WAAD,CAAT;AACAb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAdD,EAeCgB,KAfD,CAeOC,GAAG,IAAI;AACVjB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAjBD;AAmBH,GApBQ,EAoBP,EApBO,CAAT;AAyBA,sBACI;AAAK,IAAA,SAAS,EAAEH,OAAO,CAACC,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKG,MAAM,CAACiB,GAAP,CAAWC,KAAK,iBACb,oBAAC,KAAD;AACA,IAAA,MAAM,EAAGA,KAAK,CAACC,MADf;AAEA,IAAA,GAAG,EAAID,KAAK,CAACL,GAFb;AAGA,IAAA,KAAK,EAAEK,KAAK,CAACE,KAHb;AAIA,IAAA,IAAI,EAAIF,KAAK,CAACG,SAAN,CAAgBC,IAJxB;AAKA,IAAA,KAAK,EAAEJ,KAAK,CAACG,SAAN,CAAgBE,KALvB;AAMA,IAAA,MAAM,EAAEL,KAAK,CAACG,SAAN,CAAgBG,MANxB;AAOA,IAAA,IAAI,EAAEN,KAAK,CAACG,SAAN,CAAgBI,IAPtB;AAQA,IAAA,EAAE,EAAIP,KAAK,CAACL,GARZ;AASA,IAAA,MAAM,EAAIX,aATV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,CADJ;AAiBH,CApDD;;AAqDA,eAAeL,MAAf","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\nimport Order from '../Orders/Order/Order';\nimport axios from '../../axios-orders';\nimport classes from './Orders.module.css';\n\nconst Orders = () => {\n    const [loading, setLoading] = useState(true);\n    const [orders, setOrders] = useState([]);\n  \n    const deleteHandler = useCallback ((id) => {\n        axios.delete('/orders/' + id+'.json')\n        .then(response => {\n            console.log(response);\n        })\n    },[]);\n    useEffect(() => {\n        axios.get('/orders.json')\n        .then(res => {\n            console.log(res.data);\n            let updateOrder = []\n            for(let key in res.data) {\n                updateOrder.push(\n                    {\n                        ...res.data[key],\n                        key: key\n                    }\n                )\n            }\n            setOrders(updateOrder);\n            setLoading(false)\n        })\n        .catch(err => {\n            setLoading(false)\n        })\n\n    },[]); \n    \n    \n    \n\n    return (\n        <div className={classes.Orders}>\n            {orders.map(order =>\n                <Order \n                dishes ={order.dishes}\n                key = {order.key}\n                price={order.price}\n                name = {order.orderData.name}\n                phone={order.orderData.phone}\n                street={order.orderData.street}\n                city={order.orderData.city}\n                id = {order.key}\n                delete = {deleteHandler}\n                />\n            )}\n        </div>\n    )\n}\nexport default Orders;"]},"metadata":{},"sourceType":"module"}